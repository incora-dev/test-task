(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t,a){e.exports=a(38)},30:function(e,t,a){},32:function(e,t,a){},34:function(e,t,a){},36:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(19),c=a.n(s),l=a(2),i=(a(30),a(13)),o=a(6),u=a(7),m=a(11),d=a(8),f=a(10),p=(a(32),a(9)),E=a(1),b=a(5),N=(a(34),a(36),function(e){return{type:e,payload:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null}}),h=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).deleteUser=function(e){a.props.deleteUser(e)},a.editUser=function(){var e=a.props.id,t=a.state.newUser,n=t.firstName,r=t.lastName,s=t.score;return n&&r&&s?s<0||s>100?alert("Incorrect score field!"):(a.props.editUser({id:e,firstName:n,lastName:r,score:s}),void a.onCancelEdit()):alert("Fill all fields!")},a.handleInput=function(e){var t=e.target,n=t.name,r=t.value;a.setState(function(e){return Object(E.a)({},e,{newUser:Object(E.a)({},e.newUser,Object(p.a)({},n,r))})})},a.onCancelEdit=function(){var e=a.props,t=e.firstName,n=e.lastName,r=e.score;a.setState({editMode:!1,newUser:{firstName:t,lastName:n,score:r}})},a.state={editMode:!1,newUser:{firstName:e.firstName,lastName:e.lastName,score:e.score}},a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props.id,a=this.state,n=a.editMode,s=a.newUser,c=s.firstName,l=s.lastName,i=s.score;return r.a.createElement(r.a.Fragment,null,n?r.a.createElement("tr",{className:"list-item"},r.a.createElement("td",null,r.a.createElement("input",{placeholder:"First Name",type:"text",name:"firstName",value:c,onChange:this.handleInput}),r.a.createElement("input",{placeholder:"Last Name",type:"text",name:"lastName",value:l,onChange:this.handleInput})),r.a.createElement("td",null,r.a.createElement("input",{placeholder:"Score",type:"number",name:"score",value:i,onChange:this.handleInput})),r.a.createElement("td",null,r.a.createElement("button",{onClick:this.editUser,type:"button"},"Submit")),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return e.setState({editMode:!1})},type:"button"},"Cancel"))):r.a.createElement("tr",{className:"list-item"},r.a.createElement("td",null,"".concat(l,", ").concat(c)),r.a.createElement("td",null,"".concat(i)),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return e.deleteUser(t)},type:"button"},"Delete")),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return e.setState({editMode:!0})},type:"button"},"Edit"))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.editMode?t:Object(E.a)({},t,{newUser:{firstName:e.firstName,lastName:e.lastName,score:e.score}})}}]),t}(n.Component),v={editUser:function(e){return N("EDIT_USER",e)},deleteUser:function(e){return N("DELETE_USER",e)}},O=Object(l.b)(function(e){return{}},v)(h),U=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).addUser=function(e){e.preventDefault();var t=a.state.newUser,n=t.firstName,r=t.lastName,s=t.score;return n&&r&&s?s<0||s>100?alert("Incorrect score field!"):(a.props.addUser({firstName:n,lastName:r,score:s}),void a.onCancelEdit()):alert("Fill all fields!")},a.handleInput=function(e){var t=e.target,n=t.name,r=t.value;a.setState(function(e){return Object(E.a)({},e,{newUser:Object(E.a)({},e.newUser,Object(p.a)({},n,r))})})},a.onCancelEdit=function(){a.setState({editMode:!1,newUser:{firstName:"",lastName:"",score:""}})},a.renderUserAddForm=function(){var e=a.state.newUser,t=e.firstName,n=e.lastName,s=e.score;return r.a.createElement("form",{className:"add-form"},r.a.createElement("input",{placeholder:"First Name",type:"text",name:"firstName",value:t,onChange:a.handleInput}),r.a.createElement("input",{placeholder:"Last Name",type:"text",name:"lastName",value:n,onChange:a.handleInput}),r.a.createElement("input",{placeholder:"Score",type:"number",name:"score",value:s,onChange:a.handleInput}),r.a.createElement("div",{className:"add-form__btns"},r.a.createElement("button",{onClick:a.addUser,type:"submit"},"Submit"),r.a.createElement("button",{onClick:a.onCancelEdit,type:"button"},"Cancel")))},a.state={editMode:!1,sortType:"",newUser:{firstName:"",lastName:"",score:""}},a.sortBy=a.sortBy.bind(Object(b.a)(a)),a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"sortBy",value:function(e,t){var a=this.props.setUsers,n=this.state.sortType,r=e.sort(function(e,a){if(e[t]<a[t])return"asc"===n?-1:1;if(e[t]>a[t])return"asc"===n?1:-1;if(e[t]===a[t]&&"score"===t){if(e.lastName>a.lastName)return"asc"===n?1:-1;if(e.lastName<a.lastName)return"asc"===n?-1:1}return 0});this.setState(function(e){var t="asc"===e.sortType?"desc":"asc";return Object(E.a)({},e,{sortType:t})}),a(r)}},{key:"render",value:function(){var e=this,t=this.props.users,a=this.state.editMode;return r.a.createElement("div",{className:"list"},r.a.createElement("div",{className:"container"},t.length?r.a.createElement("table",{className:"list__items"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"list__sort-btn",onClick:function(){return e.sortBy(t,"lastName")}},"Name"),r.a.createElement("th",{className:"list__sort-btn",onClick:function(){return e.sortBy(t,"score")}},"Score"),r.a.createElement("th",null),r.a.createElement("th",null))),r.a.createElement("tbody",null,t.map(function(e){return r.a.createElement(O,Object.assign({key:e.id},e))}))):r.a.createElement("p",{className:"list__empty"},"Empty list"),a&&this.renderUserAddForm(),r.a.createElement("button",{className:"list__new-user",onClick:function(){return e.setState({editMode:!a})}},"Add user")))}}]),t}(n.Component),y={addUser:function(e){return N("ADD_USER",e)},setUsers:function(e){return N("SET_USERS",e)}},j=Object(l.b)(function(e){return{}},y)(U),S=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.getUsers()}},{key:"render",value:function(){var e=this.props.users;return r.a.createElement("div",{className:"page"},r.a.createElement(j,{users:e}))}}]),t}(n.Component),w={getUsers:function(){return N("GET_USERS")}},g=Object(l.b)(function(e){return{users:Object(i.a)(e.list.users)}},w)(S),C=a(3),_=[{id:0,createdAt:"2019-01-30T10:47:47.813461Z",firstName:"Alice",lastName:"Geary",score:"12"},{id:1,createdAt:"2019-01-30T10:48:47.813461Z",firstName:"John",lastName:"Junge",score:"22"},{id:2,createdAt:"2019-01-12T10:47:47.813461Z",firstName:"Rob",lastName:"Vera",score:"14"},{id:3,createdAt:"2019-01-19T10:47:47.813461Z",firstName:"James",lastName:"Smith",score:"15"},{id:4,createdAt:"2019-01-11T10:47:47.813461Z",firstName:"Liam",lastName:"Williams",score:"17"},{id:5,createdAt:"2019-01-11T10:47:47.813461Z",firstName:"Olivia",lastName:"Davis",score:"17"}],k={users:[]},T=Object(C.c)({list:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_USERS":return Object(E.a)({},e,{users:_});case"SET_USERS":return Object(E.a)({},e,{users:n});case"ADD_USER":return Object(E.a)({},e,{users:[].concat(Object(i.a)(e.users),[Object(E.a)({},n,{id:e.users.length,createdAt:(new Date).toISOString()})])});case"EDIT_USER":var r=e.users.map(function(e){return e.id===n.id?Object(E.a)({},e,n):e});return Object(E.a)({},e,{users:r});case"DELETE_USER":var s=e.users.filter(function(e){return e.id!==n});return Object(E.a)({},e,{users:s});default:return e}}}),D=Object(C.d)(T,C.a.apply(void 0,[]));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(l.a,{store:D},r.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[21,2,1]]]);
//# sourceMappingURL=main.b23723be.chunk.js.map